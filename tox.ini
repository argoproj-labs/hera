[tox]
envlist = python{3.7,3.8,3.9,3.10}

[pytest]
addopts = --cov=hera --cov-report=term-missing --durations=5 -vv

[testenv]
wheel = true
setenv =
    ENABLE_BDIST_EXT_MODULE = {env:ENABLE_BDIST_EXT_MODULE:no}
    COVERAGE_FILE = coverage/.coverage.{envname}
allowlist_externals =
    make
deps =
    pytest
    pytest-cov
commands=
    make test

[testenv:lint]
skipsdist = True
deps =
    flake8
commands=
    make lint

[testenv:typecheck]
skipsdist = True
deps =
    mypy
    {[testenv]deps}
commands=
    make typecheck
