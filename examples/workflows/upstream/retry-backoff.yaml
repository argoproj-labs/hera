apiVersion: argoproj.io/v1alpha1
kind: Workflow
metadata:
  generateName: retry-backoff-
spec:
  entrypoint: retry-backoff
  templates:
  - name: retry-backoff
    container:
      image: python:alpine3.6
      args:
      - import random; import sys; exit_code = random.choice([0, 1, 1]); sys.exit(exit_code)
      command:
      - python
      - -c
    retryStrategy:
      limit: '10'
      backoff:
        cap: '5'
        duration: '1'
        factor: '2'
        maxDuration: 1m
