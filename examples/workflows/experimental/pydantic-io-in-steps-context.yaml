apiVersion: argoproj.io/v1alpha1
kind: WorkflowTemplate
metadata:
  generateName: pydantic-io-in-steps-context-v1-
spec:
  entrypoint: d
  templates:
  - name: d
    steps:
    - - arguments:
          parameters:
          - name: cut-after
            value: '1'
          - name: strings
            value: '["hello", "world", "it''s", "hera"]'
        name: cut
        template: cut
    - - arguments:
          parameters:
          - name: strings
            value: '{{steps.cut.outputs.parameters.first-strings}}'
          - name: joiner
            value: ' '
        name: join
        template: join
  - inputs:
      parameters:
      - name: cut-after
      - name: strings
    name: cut
    outputs:
      parameters:
      - name: first-strings
        valueFrom:
          path: /tmp/hera-outputs/parameters/first-strings
      - name: remainder
        valueFrom:
          path: /tmp/hera-outputs/parameters/remainder
    script:
      args:
      - -m
      - hera.workflows.runner
      - -e
      - examples.workflows.experimental.pydantic_io_in_steps_context:cut
      command:
      - python
      env:
      - name: hera__script_annotations
        value: ''
      - name: hera__outputs_directory
        value: /tmp/hera-outputs
      - name: hera__script_pydantic_io
        value: ''
      image: python:3.8
      source: '{{inputs.parameters}}'
  - inputs:
      parameters:
      - name: strings
      - name: joiner
    name: join
    outputs:
      parameters:
      - name: joined-string
        valueFrom:
          path: /tmp/hera-outputs/parameters/joined-string
    script:
      args:
      - -m
      - hera.workflows.runner
      - -e
      - examples.workflows.experimental.pydantic_io_in_steps_context:join
      command:
      - python
      env:
      - name: hera__script_annotations
        value: ''
      - name: hera__outputs_directory
        value: /tmp/hera-outputs
      - name: hera__script_pydantic_io
        value: ''
      image: python:3.8
      source: '{{inputs.parameters}}'
